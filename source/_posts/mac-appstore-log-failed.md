---
title: Mac OS上AppStore无法登陆的问题
date: 2017-01-26 17:01:10
categories: [Mac OS]
tags: [Mac OS,AppStore]
---

## 问题由来

不久前更新了MacBook Air的操作系统，随后便发现AppStore无法登陆账号。一直提示This action could not be completed. Try again.当时认为这可能是网络的问题，除此之外，国内连接AppStore向来不是很稳定。懒得去折腾，也不急于一时。

这几天想尝试下用Swift开发点IOS应用，安装XCode的时候发现AppStore还是登陆不上，下搞啥呀！果断打客服电话~然后跟着客服操作了一通，啥安全模式呀，重启呀啥的，注册新账号尝试呀~搞了大半天，浪费了无数电话费！！还是没解决！！

<!--more-->
## 解决方案

没办法了，靠谁都不如靠自己，度娘不行就谷歌。皇天不负有心人，终于找到了一下的解决方法（尝试了下，终于成功了）:

1. 找到/Users/Shared文件夹查看其权限
  当时我的Shared文件夹的权限是 drwxr-xr-t

2. 修改/Users/Shared目录权限

	* 操作系统版本大于OS X 10.6
		
			sudo chmod -R 1777 /Users/Shared

	* 操作系统版本OS X 10.5.x或更早版本，请运行以下命令：

      		sudo chmod -R 777 /Users/Shared

	* 如果没有Shared文件夹则创建一个，修改为上面的权限

3. 重启AppStore后重新尝试登陆就可以了

## 为什么会这样

1. /Users/Shared是什么目录，修改这个文件夹权限会不会有安全问题？

	这个目录并不表示系统中有一个用户叫做Shared，所以他不是任何用户的主目录（千万别把它当成“共享（sharing）用户”的主目录！），那么它是做什么的呢？Mac OS X系统希望通过这样一个目录提供另外一种用户之间共享数据的方法。该目录可以被任意用户读写，但它不应该存放与任何应用程序有关的信息，当然，除非某用户非要这么做。这个目录很像传统Unix系统中的/tmp目录，用于各（系统）用户临时存放或者交换文件。
	所以这个文件夹理论上就应该是大家都能读写，就是一个临时目录，修改他的权限为777不会造成安全问题
	
2. /Users/Shared权限不对为什么会造成AppStore登录异常？
	根上的问题上App Store在登录时需要读写/Users/Shared/adi目录下的文件，权限问题导致这个目录写入出现问题。安全模式呀，重启啊，更换账号都是无法解决这个问题。修改权限才是正解！！
